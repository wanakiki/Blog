<!DOCTYPE html>
<html lang="zh-cn">
  <head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noodp"/>
  <meta name="author" content="Mogeko">
  <meta name="description" content="Mogeko 的个人博客">
  <meta name="keywords" content="blog, KMS, Hugo, GNU/Linux, Linux, Ubuntu, Rusty Lake: Roots, Hollow Knight, 空洞骑士">
  
  <link rel="prev" href="https://mogeko.me/2018/030/" />
  <link rel="next" href="https://mogeko.me/2018/032/" />
  <link rel="canonical" href="https://mogeko.me/2018/031/" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <title>
       
       
           GNU/Linux 输入法折腾笔记 (RIME) | Mogeko`s Blog
       
  </title>
  <meta name="title" content="GNU/Linux 输入法折腾笔记 (RIME) | Mogeko`s Blog">
    
  
  <link rel="stylesheet" href="/font/iconfont.css">
  <link rel="stylesheet" href="/css/main.min.css">


  
  
 

<script type="application/ld+json">
 "@context" : "http://schema.org",
    "@type" : "BlogPosting",
    "mainEntityOfPage": {
         "@type": "WebPage",
         "@id": "https://mogeko.me"
    },
    "articleSection" : "posts",
    "name" : "GNU/Linux 输入法折腾笔记 (RIME)",
    "headline" : "GNU/Linux 输入法折腾笔记 (RIME)",
    "description" : "-- 终于，我在也忍受不了 Ubuntu 18.04 自带的 ibus-libpinyin 了。决定好好配置以下输入法，本来以为最多半个小时就能搞定的事情，结果整整花了半天 _(:з」∠)_ 网上一搜发",
    "inLanguage" : "zh-cn",
    "author" : "Mogeko",
    "creator" : "Mogeko",
    "publisher": "Mogeko",
    "accountablePerson" : "Mogeko",
    "copyrightHolder" : "Mogeko",
    "copyrightYear" : "2018",
    "datePublished": "2018-11-21 12:38:05 &#43;0800 &#43;0800",
    "dateModified" : "2018-11-21 12:38:05 &#43;0800 &#43;0800",
    "url" : "https://mogeko.me/2018/031/",
    "wordCount" : "3326",
    "keywords" : [ "GNU/Linux","Ubuntu","Tools", "Mogeko`s Blog"]
}
</script>

  
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-104502658-2"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'UA-104502658-2');
</script>

</head>

  


  <body class="">
    <div class="wrapper">
        <nav class="navbar">
    <div class="container">
        <div class="navbar-header header-logo">
        	<a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://mogeko.me">Mogeko`s Blog</a>
        </div>
        <div class="menu navbar-right">
                
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about/" title="">About</a>
                
                <a class="menu-item" href="/about/" title="Mogeko">Mogeko</a>
                
        </div>
    </div>
</nav>
<nav class="navbar-mobile" id="nav-mobile" style="display: none">
     <div class="container">
        <div class="navbar-header">
            <div>  <a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://mogeko.me">Mogeko`s Blog</a></div>
            <div class="menu-toggle">
                <span></span><span></span><span></span>
            </div>
        </div>
     
          <div class="menu" id="mobile-menu">
                
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about/" title="">About</a>
                
                <a class="menu-item" href="/about/" title="Mogeko">Mogeko</a>
                
        </div>
    </div>
</nav>
    	 <main class="main">
          <div class="container">
      		
<article class="post-warp" itemscope itemtype="http://schema.org/Article">
    <header class="post-header">
        <h1 class="post-title" itemprop="name headline">GNU/Linux 输入法折腾笔记 (RIME)</h1>
        <div class="post-meta">
                Written by <a itemprop="name" href="https://mogeko.me" rel="author">Mogeko</a> with ♥ 
                <span class="post-time">
                on <time datetime=2018-11-21 itemprop="datePublished">November 21, 2018</time>
                </span>
                in
                <i class="iconfont icon-folder"></i>
                <span class="post-category">
                        <a href="https://mogeko.me/categories/%E5%85%B3%E4%BA%8E%E8%BD%AF%E4%BB%B6/"> 关于软件 </a>
                        
                </span>
                <span class="post-word-count">, 3326 words</span>
        </div>
    </header>
    <div class="post-content">
        

        

        
        
     
          
          
          

          
          
          

          

<!-- 
<img alt="" src="" >
<span class="spoiler" ></span>
<br>
 -->

<p>终于，我在也忍受不了 <strong>Ubuntu 18.04</strong> 自带的 <strong>ibus-libpinyin</strong> 了。决定好好配置以下输入法，本来以为最多半个小时就能搞定的事情，结果整整花了半天 _(:з」∠)_</p>

<p>网上一搜发现 <strong>搜狗拼音</strong> 有 GNU/Linux 版的，于是去官网下载了 <strong>搜狗拼音</strong> 的 deb 包，安装，全局终…</p>

<p>才怪  | ・ω・’）</p>

<p>当我看到 <strong>搜狗拼音</strong> 只能支持 <strong>fcitx 框架</strong> 时瞬间就放弃了。不是说 <strong>fcitx 框架</strong> 不好，只是觉得要换输入法框架太折腾了 (<strong>Ubuntu 18.4</strong> 预装了 <strong>ibus 框架</strong>)；后来事实证明，<strong>ibus 框架</strong> 不仅折腾，bug 还多…</p>

<p><span class="spoiler" >早晓得就换 <strong>fcitx 框架</strong> 了 _(:з」∠)_</span></p>

<p><br></p>

<p>放弃 <strong>搜狗拼音</strong> 后，我又将目光投向了一款开源的跨平台输入法：<a href="https://rime.im" rel="nofollow noreferrer" target="_blank"><strong>RIME</strong> </a></p>

<blockquote>
<p><strong>中州韵输入法引擎</strong>（英语：<strong>Rime Input Method Engine</strong>，又称<strong>Rime 输入法</strong>）是由佛振编写的<a href="https://zh.wikipedia.org/wiki/%E5%BC%80%E6%BA%90" rel="nofollow noreferrer" target="_blank">开源</a><a href="https://zh.wikipedia.org/wiki/%E4%B8%AD%E6%96%87%E8%BC%B8%E5%85%A5%E6%B3%95" rel="nofollow noreferrer" target="_blank">中文输入法</a>，目前项目网站、源代码均托管在<a href="https://zh.wikipedia.org/wiki/GitHub" rel="nofollow noreferrer" target="_blank">GitHub</a>[<a href="https://zh.wikipedia.org/wiki/%E4%B8%AD%E5%B7%9E%E9%9F%BB%E8%BC%B8%E5%85%A5%E6%B3%95%E5%BC%95%E6%93%8E#cite_note-1" rel="nofollow noreferrer" target="_blank">注 1]</a>。基于同一个核心架构，该输入法分为三个官方发行版：<a href="https://zh.wikipedia.org/wiki/Linux" rel="nofollow noreferrer" target="_blank">Linux</a> 发行版<strong>中州韵</strong>（<a href="https://zh.wikipedia.org/wiki/Ibus" rel="nofollow noreferrer" target="_blank">ibus</a>-rime）、<a href="https://zh.wikipedia.org/wiki/Microsoft_Windows" rel="nofollow noreferrer" target="_blank">Windows</a>发行版<strong>小狼毫</strong>（Weasel）、<a href="https://zh.wikipedia.org/wiki/MacOS" rel="nofollow noreferrer" target="_blank">macOS</a> 发行版<strong>鼠须管</strong>（Squirrel）。另有数个第三方发行版：<a href="https://zh.wikipedia.org/wiki/Linux" rel="nofollow noreferrer" target="_blank">Linux</a> 发行版<strong>fcitx-rime</strong>、<a href="https://zh.wikipedia.org/wiki/Microsoft_Windows" rel="nofollow noreferrer" target="_blank">Windows</a>发行版<strong>PRIME</strong>、<a href="https://zh.wikipedia.org/wiki/MacOS" rel="nofollow noreferrer" target="_blank">macOS</a> 发行版<strong>XIME</strong>、<a href="https://zh.wikipedia.org/wiki/Android" rel="nofollow noreferrer" target="_blank">Android</a>发行版<strong>同文输入法</strong>（Trime）、<a href="https://zh.wikipedia.org/wiki/IOS" rel="nofollow noreferrer" target="_blank">iOS</a>发行版<strong>iRime</strong>。</p>
</blockquote>

<p>哇！开源输入法呢！！✪ω✪</p>

<p>去 TM 的资本主义 <strong>搜狗拼音</strong>，<del>开源输入法才配在睾贵的 GNU/Linux 上打字</del></p>

<p>于是便上了 <strong>RIME</strong> 的贼船 _(:з」∠)_</p>

<!-- more -->

<h1 id="关于输入法与输入法框架">关于输入法与输入法框架</h1>

<p>与 Windows 不同的是，GNU/Linux 下的中文输入法都是需要依赖于输入法框架的，这里的框架有 <strong>ibus</strong>、<strong>fcitx</strong> 等。<strong>输入法框架</strong> 可以通过 <strong>im-config</strong> 来进行配置。然后在 <strong>输入法框架</strong> 的配置中选择 <strong>输入法</strong>。</p>

<ul>
<li><p><strong>RIME</strong> 同时支持 <strong>ibus 框架</strong> 和 <strong>fcitx 框架</strong></p></li>

<li><p><strong>搜狗拼音</strong> 只支持 <strong>fcitx 框架</strong></p></li>
</ul>

<p><strong>提到 ibus 框架我就多说两句，我在使用基于 ibus 框架的输入法时 (ibus-libpinyin 和 ibus-rime)，偶尔会遇到打不出字的情况；调查后发现是因为 ibus 框架对于使用 Qt 编写的应用程序兼容性不好。没用过 fcitx，不知道兼容性这一方面会不会好一点</strong></p>

<h1 id="安装-rime">安装 RIME</h1>

<p>安装 <strong>RIME</strong> 很简单，大多数软件仓库都是收录了 <strong>RIME</strong> 的，所以只需要使用各自系统的包管理器安装即可</p>

<h2 id="archlinux">Archlinux</h2>

<pre><code class="language-shell">pacman -S ibus-rime
</code></pre>

<h2 id="ubuntu-debian">Ubuntu / Debian</h2>

<pre><code class="language-shell">sudo apt-get install ibus-rime
</code></pre>

<p><strong>Ubuntu PPA:</strong></p>

<pre><code class="language-shell">sudo add-apt-repository ppa:lotem/rime
sudo apt-get update
sudo apt-get install ibus-rime
</code></pre>

<h2 id="fedora-centos">Fedora / CentOS</h2>

<pre><code class="language-shell">sudo yum install ibus-rime
</code></pre>

<p>更多发行版请参考：<a href="https://github.com/rime/home/wiki/RimeWithIBus" rel="nofollow noreferrer" target="_blank"><strong>ibus-rime</strong> 各发行版安装说明</a></p>

<p><br></p>

<p><strong>fcitx 框架</strong> 版本请参考：<a href="https://github.com/fcitx/fcitx-rime" rel="nofollow noreferrer" target="_blank"><strong>fcitx-rime</strong></a></p>

<h1 id="配置-rime">配置 RIME</h1>

<p>最让人头疼的配置环节来了，我在这里就因为没好好看<a href="https://github.com/rime/home/wiki/CustomizationGuide" rel="nofollow noreferrer" target="_blank">说明书 (Rime 定制指南)</a> <span class="spoiler" >繁体中文看得我眼睛痛 °(°ˊДˋ°) °</span> 走了很多弯路。</p>

<p><strong>RIME</strong> 的配置文件在 <code>~/.config/ibus/rime</code> 中。</p>

<p>文件夹中的 <code>*.yaml</code> 就是配置文件了。简单介绍一下各个配置文件的作用：</p>

<ul>
<li><code>default.yaml</code>: 全局配置文件</li>

<li><p><code>weasel.yaml</code>: 发行版的配置文件 (<a href="https://github.com/rime/weasel" rel="nofollow noreferrer" target="_blank"><strong>weasel</strong></a> 是 Windows 下的 RIME 发行版)</p></li>

<li><p><code>installation.yaml</code>: 安装信息 (可以用来配置同步目录)</p></li>

<li><p><code>*.schema.yaml</code>: 各输入方案的配置文件</p></li>

<li><p><code>*.dict.yaml</code>: 输入方案配套的词典源文件</p></li>

<li><p><code>*.custom.yaml</code>: 用户对 <code>default.yaml</code>、<code>*.schema.yaml</code> 等配置文件进行修改的配置文件</p></li>
</ul>

<p>直接修改配置文件 -&gt; 保存 -&gt; 部署就可以使用了，不过这样做会有一个问题——<strong>升级时，RIME 会覆盖配置文件</strong>。也就是说一旦升级就要重新配置！这显然是不合理的，因此 <strong>RIME</strong> 采用了一种用 <code>*.custom.yaml</code> 去部署 <code>*.yaml</code> 的方式进行配置。</p>

<p>需要改哪个文件就按照 <code>[文件名].custom.yaml</code> 的格式新建一个文件 (例如修改 <code>default.yaml</code> 就新建一个 <code>default.custom.yaml</code>)，将需要修改的内容<strong>按特定格式</strong>写在 <code>*.custom.yaml</code> 文件中 -&gt; 保存 -&gt; 部署就 OK 了。升级时不会覆盖 <code>*.custom.yaml</code> 文件，所以也不用担心配置文件被覆盖的问题。</p>

<p>需要注意的是 <strong><code>*.custom.yaml</code> 使用的语法与 <code>*.yaml</code> 不同，一定要按照规定的语法来写，不然会出错</strong> <span class="spoiler" >我就被坑了  _(:з」∠)_</span></p>

<h3 id="custom-yaml-的写法">*.custom.yaml 的写法</h3>

<p>例如想修改无论中文模式或者英文模式，按键 <code>/</code> 输入 <code>/</code> (中文模式中默认是让你自己选择)</p>

<p>在 <code>default.yaml</code> 中有如下配置：</p>

<pre><code class="language-yaml">punctuator:
  full_shape:
    &quot;/&quot;: [&quot;／&quot;, &quot;÷&quot;]
  half_shape:
    &quot;/&quot; : [&quot;、&quot;, &quot;/&quot;, &quot;／&quot;, &quot;÷&quot;]
</code></pre>

<p>我们需要在 <code>default.custom.yaml</code> 中配置：</p>

<pre><code class="language-yaml">patch:
  punctuator/full_shape:
    &quot;/&quot; : &quot;/&quot;
  punctuator/half_shape:
    &quot;/&quot; : &quot;/&quot;
</code></pre>

<p>看出其中的区别了吗？</p>

<p><strong>在 <code>default.custom.yaml</code> 使用<code>[语句]/[语句]</code> 匹配 <code>default.yaml</code> 中的缩进</strong></p>

<p><br></p>

<p>如果没看清楚的话来看看下面这个例子：</p>

<p>很多时候我们想输入英文，但现在的输入模式是中文，并且用户并不知道现在的输入模式是中文。我们可能会在「中文模式」下打出一段“英文”，然后按 <code>Shift</code> 切换到「英文模式」那么已经输入的那段“英文”应当如何处理呢？<strong>RIME</strong> 提供了五种策略：</p>

<ul>
<li><strong>inline_ascii</strong>: 在输入法的临时英文编辑区内输入字母、数字、符号、空格等，回车上屏后自动复位到中文</li>
<li><strong>commit_text</strong>: 已输入的候选文字上屏并切换至西文输入模式</li>
<li><strong>commit_code</strong>: 已输入的编码字符上屏并切换至西文输入模式</li>
<li><strong>clear</strong>: 丢弃已输入的内容并切换至西文输入模式</li>
<li><strong>noop</strong>: 屏蔽该切换键</li>
</ul>

<p>想要修改 <code>Shift</code> 的上词方式为 <strong>commit_code</strong></p>

<p>在 <code>default.yaml</code> 中有如下配置：</p>

<pre><code class="language-yaml">ascii_composer:
  good_old_caps_lock: true
  switch_key:
    Shift_L: commit_text
</code></pre>

<p>按照<code>[语句]/[语句]</code> 匹配缩进的原则，我们在 <code>default.custom.yaml</code> 中配置：</p>

<pre><code class="language-yaml">patch:
	&quot;ascii_composer/switch_key/Shift_L&quot;: commit_code
</code></pre>

<h2 id="我的配置文件">我的配置文件</h2>

<p><strong>default.custom.yaml:</strong></p>

<pre><code class="language-yaml">patch:
    # 横向显示候选词（并没有什么卵用，ibus-rime 的候选词是由 ibus 控制的）
    &quot;style/horizontal&quot;: true
    # 左/右 Shift 的上词方式
    &quot;ascii_composer/switch_key/Shift_L&quot;: commit_code
    &quot;ascii_composer/switch_key/Shift_R&quot;: inline_ascii
    # 绑定 &quot;/&quot; 为 &quot;/&quot;
    &quot;punctuator/full_shape&quot;:
        &quot;/&quot;: &quot;/&quot;
    &quot;punctuator/half_shape&quot;:
        &quot;/&quot;: &quot;/&quot;

    # 针对以下应用使用英文模式 (好像只在 Mac OS 和 Windows 下有用)
    # &quot;app_options/code-url-handler&quot;:
    #     ascii_mode: true
    # &quot;app_options/org.gnome.Terminal&quot;:
    #     ascii_mode: true
    # &quot;app_options/org.gnome.Shell&quot;:
    #     ascii_mode: true
    # &quot;app_options/google-chrome&quot;:
    #     ascii_mode: true
    # &quot;app_options/vim&quot;:
    #     ascii_mode: true

</code></pre>

<p><strong>installation.yaml:</strong></p>

<pre><code class="language-yaml">distribution_code_name: &quot;ibus-rime&quot;                                             
distribution_name: Rime
distribution_version: 1.2 
install_time: &quot;Sat Nov 17 08:39:26 2018&quot;
installation_id: &quot;Ubuntu&quot;
rime_version: 1.2.9

sync_dir: &quot;/home/mogeko/Dropbox/sync/Rime&quot; # 存放同步文件的地址
</code></pre>

<p>因为配置了 <strong>模糊音</strong> 和 <strong>扩充词库</strong>，<code>luna_pinyin.custom.yaml</code> 里面的配置过于复杂，我就不贴出来了，后面会给大家讲解 <a href="#模糊拼音"><strong>如何配置模糊音</strong></a> 以及<a href="#扩展词库"> <strong>如何配置扩充词库</strong></a> 的。</p>

<h2 id="模糊拼音">模糊拼音</h2>

<p>配置模糊拼音需要配置各 (某) 输入方案的配置文件</p>

<p>这里是官方给的一个模板 (朙月拼音) -&gt; <a href="https://gist.github.com/lotem/2320943" rel="nofollow noreferrer" target="_blank">【朙月拼音】模糊音定製模板</a></p>

<pre><code class="language-yaml"># luna_pinyin.custom.yaml
#
# 【朙月拼音】模糊音定製模板
#   佛振配製 :-)
#
# 位置：
# ~/.config/ibus/rime  (Linux)
# ~/Library/Rime  (Mac OS)
# %APPDATA%\Rime  (Windows)
#
# 於重新部署後生效
#

patch:
  'speller/algebra':
    - erase/^xx$/                      # 第一行保留

    # 模糊音定義
    # 需要哪組就刪去行首的 # 號，單雙向任選
    #- derive/^([zcs])h/$1/             # zh, ch, sh =&gt; z, c, s
    #- derive/^([zcs])([^h])/$1h$2/     # z, c, s =&gt; zh, ch, sh

    #- derive/^n/l/                     # n =&gt; l
    #- derive/^l/n/                     # l =&gt; n

    # 這兩組一般是單向的
    #- derive/^r/l/                     # r =&gt; l

    #- derive/^ren/yin/                 # ren =&gt; yin, reng =&gt; ying
    #- derive/^r/y/                     # r =&gt; y

    # 下面 hu &lt;=&gt; f 這組寫法複雜一些，分情況討論
    #- derive/^hu$/fu/                  # hu =&gt; fu
    #- derive/^hong$/feng/              # hong =&gt; feng
    #- derive/^hu([in])$/fe$1/          # hui =&gt; fei, hun =&gt; fen
    #- derive/^hu([ao])/f$1/            # hua =&gt; fa, ...

    #- derive/^fu$/hu/                  # fu =&gt; hu
    #- derive/^feng$/hong/              # feng =&gt; hong
    #- derive/^fe([in])$/hu$1/          # fei =&gt; hui, fen =&gt; hun
    #- derive/^f([ao])/hu$1/            # fa =&gt; hua, ...

    # 韻母部份
    #- derive/^([bpmf])eng$/$1ong/      # meng = mong, ...
    #- derive/([ei])n$/$1ng/            # en =&gt; eng, in =&gt; ing
    #- derive/([ei])ng$/$1n/            # eng =&gt; en, ing =&gt; in

    # 樣例足夠了，其他請自己總結……

    # 反模糊音？
    # 誰說方言沒有普通話精確、有模糊音，就能有反模糊音。
    # 示例爲分尖團的中原官話：
    #- derive/^ji$/zii/   # 在設計者安排下鳩佔鵲巢，尖音i只好雙寫了
    #- derive/^qi$/cii/
    #- derive/^xi$/sii/
    #- derive/^ji/zi/
    #- derive/^qi/ci/
    #- derive/^xi/si/
    #- derive/^ju/zv/
    #- derive/^qu/cv/
    #- derive/^xu/sv/
    # 韻母部份，只能從大面上覆蓋
    #- derive/^([bpm])o$/$1eh/          # bo =&gt; beh, ...
    #- derive/(^|[dtnlgkhzcs]h?)e$/$1eh/  # ge =&gt; geh, se =&gt; sheh, ...
    #- derive/^([gkh])uo$/$1ue/         # guo =&gt; gue, ...
    #- derive/^([gkh])e$/$1uo/          # he =&gt; huo, ...
    #- derive/([uv])e$/$1o/             # jue =&gt; juo, lve =&gt; lvo, ...
    #- derive/^fei$/fi/                 # fei =&gt; fi
    #- derive/^wei$/vi/                 # wei =&gt; vi
    #- derive/^([nl])ei$/$1ui/          # nei =&gt; nui, lei =&gt; lui
    #- derive/^([nlzcs])un$/$1vn/       # lun =&gt; lvn, zun =&gt; zvn, ... 
    #- derive/^([nlzcs])ong$/$1iong/    # long =&gt; liong, song =&gt; siong, ...
    # 這個辦法雖從拼寫上做出了區分，然而受詞典制約，候選字仍是混的。
    # 只有真正的方音輸入方案纔能做到！但「反模糊音」這個玩法快速而有效！

    # 模糊音定義先於簡拼定義，方可令簡拼支持以上模糊音
    - abbrev/^([a-z]).+$/$1/           # 簡拼（首字母）
    - abbrev/^([zcs]h).+$/$1/          # 簡拼（zh, ch, sh）

    # 以下是一組容錯拼寫，《漢語拼音》方案以前者爲正
    - derive/^([nl])ve$/$1ue/          # nve = nue, lve = lue
    - derive/^([jqxy])u/$1v/           # ju = jv,
    - derive/un$/uen/                  # gun = guen,
    - derive/ui$/uei/                  # gui = guei,
    - derive/iu$/iou/                  # jiu = jiou,

    # 自動糾正一些常見的按鍵錯誤
    - derive/([aeiou])ng$/$1gn/        # dagn =&gt; dang 
    - derive/([dtngkhrzcs])o(u|ng)$/$1o/  # zho =&gt; zhong|zhou
    - derive/ong$/on/                  # zhonguo =&gt; zhong guo
    - derive/ao$/oa/                   # hoa =&gt; hao
    - derive/([iu])a(o|ng?)$/a$1$2/    # tain =&gt; tian

  # 分尖團後 v =&gt; ü 的改寫條件也要相應地擴充：
  #'translator/preedit_format':
  #  - &quot;xform/([nljqxyzcs])v/$1ü/&quot;
</code></pre>

<p>将模板剪贴进 <code>~/.config/ibus/rime/luna_pinyin.custom.yaml</code> 文件中，然后需要哪组就去掉那一行前面的 <code>#</code> 即可</p>

<h2 id="扩展词库">扩展词库</h2>

<p><strong>RIME</strong> 的默认词库并没有多大，因为作者希望用户在与 <strong>RIME</strong> 磨合的过程中自己积累用户词库，确实自己养起来的词库更顺手，但养词库的过程多少还是有点痛苦的，好在 <strong>RIME</strong> 支持 <strong>扩展词库</strong></p>

<p>这里使用的是 <a href="https://github.com/xiaoTaoist" rel="nofollow noreferrer" target="_blank">xiaoTaoist</a> 制作的词库扩展包</p>

<p><a href="https://github.com/xiaoTaoist/rime-dict" rel="nofollow noreferrer" target="_blank">GitHub 地址</a>&emsp;&emsp;<a href="https://github.com/Mogeko/Blog/releases/download/031/rime-dict.zip" rel="nofollow noreferrer" target="_blank">下载地址</a></p>

<h3 id="使用方法">使用方法</h3>

<p>将解压出来的所以文件复制到 <code>~/.config/ibus/rime</code> 文件夹下即可</p>

<p><br></p>

<p><code>luna_pinyin.custom.yaml</code> 要被覆盖？！那<strong>模糊拼音</strong>的配置岂不是…</p>

<p>不用担心。这个扩展词库的 <code>luna_pinyin.custom.yaml</code> 中也包含了<strong>模糊拼音</strong>的功能，按相同方法开启即可</p>

<h1 id="同步">同步</h1>

<p>众所周知，<strong>RIME</strong> 是一个跨平台的输入法，那么每个平台都这么配置一遍岂不是很麻烦？</p>

<p>不用担心。这个问题可以通过<strong>同步</strong>来解决 (顺便还解决了不同平台共享词库的需求)</p>

<p><br></p>

<p>只需要在 <code>~/.config/ibus/installation.yaml</code> 文件中添加：</p>

<pre><code class="language-yaml">sync_dir: &quot;[用来存放同步文件的地址]&quot;
</code></pre>

<p>然后，<strong>部署</strong> -&gt; <strong>同步</strong>，你的<strong>用户配置</strong>、<strong>用户词库</strong> 等都会被放在你配置的同步文件地址里。</p>

<p>如果你换了新的电脑，只需要将同步文件拷贝过去，然后配置一下 <code>installation.yaml</code> 文件，执行 <strong>部署</strong> -&gt; <strong>同步</strong> -&gt; <strong>部署</strong> ，你的 <strong>用户配置</strong>、<strong>用户词库</strong> 都回来了。</p>

<p><br></p>

<p><center>  ·End·  </center></p>

    </div>

    <div class="post-copyright">
             
            <p class="copyright-item">
                <span>Author:</span>
                <span>Mogeko </span>
                </p>
            
           
             
            <p class="copyright-item">
                    <span>Link:</span>
                    <a href=https://mogeko.me/2018/031/>https://mogeko.me/2018/031/</span>
            </p>
            
             
            <p class="copyright-item lincese">
                本文采用<a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank">知识共享署名-非商业性使用 4.0 国际许可协议</a>进行许可
            </p>
            
    </div>

  
    <div class="post-tags">
        
            <section>
            <i class="iconfont icon-tag"></i>Tag(s): 
            
            <span class="tag"><a href="https://mogeko.me/tags/gnu/linux/">
                    #GNU/Linux</a></span>
            
            <span class="tag"><a href="https://mogeko.me/tags/ubuntu/">
                    #Ubuntu</a></span>
            
            <span class="tag"><a href="https://mogeko.me/tags/tools/">
                    #Tools</a></span>
            
            </section>
        
        <section>
                <a href="javascript:window.history.back();">back</a></span> · 
                <span><a href="https://mogeko.me">home</a></span>
        </section>
    </div>

    <div class="post-nav">
        
        <a href="https://mogeko.me/2018/030/" class="prev" rel="prev" title="subliminal | 电影字幕下载神器"><i class="iconfont icon-left"></i>&nbsp;subliminal | 电影字幕下载神器</a>
         
        
        <a href="https://mogeko.me/2018/032/" class="next" rel="next" title="GNU/Linux 技巧：如何快速的找到一个文件">GNU/Linux 技巧：如何快速的找到一个文件&nbsp;<i class="iconfont icon-right"></i></a>
        
    </div>

    <div class="post-comment">
          
                 
          
        
<div id="gitalk-container"></div>
<link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
<script>
    const gitalk = new Gitalk({
        clientID: '936cecdd2ab935870ca5',
        clientSecret: '39cfc7a3cb9a974b6609f3fdaa637e2917e3e40a',
        repo: 'Blog',
        owner: 'Mogeko',
        admin: ['Mogeko'],
        id: location.pathname, 
        distractionFreeMode: false 
    });
    (function () {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('gitalk-container').innerHTML = 'Gitalk comments not available by default when the website is previewed locally.';
            return;
        }
        gitalk.render('gitalk-container');
    })();
</script>

    </div>
</article>
          </div>
		   </main>
      <footer class="footer">
    <div class="copyright">
        &copy;
        
        <span itemprop="copyrightYear">2017 - 2019</span>
        
        <span class="with-love">
    	 <i class="iconfont icon-love"></i> 
         </span>
         
            <span class="author" itemprop="copyrightHolder"><a href="https://mogeko.me">Mogeko</a> | </span> 
         

         
		  <span>Powered by <a href="https://gohugo.io/" target="_blank" rel="external nofollow">Hugo</a> & <a href="https://github.com/liuzc/leaveit" target="_blank" rel="external nofollow">LeaveIt</a></span> 
    </div>
</footer>












    
    
    <script src="/js/vendor_no_gallery.min.js" async=""></script>
    
  



     </div>
  </body>
</html>
